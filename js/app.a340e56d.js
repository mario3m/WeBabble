(function(e){function a(a){for(var n,r,s=a[0],c=a[1],l=a[2],u=0,d=[];u<s.length;u++)r=s[u],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&d.push(o[r][0]),o[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);m&&m(a);while(d.length)d.shift()();return i.push.apply(i,l||[]),t()}function t(){for(var e,a=0;a<i.length;a++){for(var t=i[a],n=!0,r=1;r<t.length;r++){var s=t[r];0!==o[s]&&(n=!1)}n&&(i.splice(a--,1),e=c(c.s=t[0]))}return e}var n={},r={app:0},o={app:0},i=[];function s(e){return c.p+"js/"+({}[e]||e)+"."+{"chunk-2d0ac02b":"08114ec5","chunk-2d0ba364":"0dc1a689","chunk-2d0d7a3b":"8a953bf7","chunk-2d208716":"cdfc7646","chunk-2d2172ee":"51d17286","chunk-9cb9ce8c":"7db03109"}[e]+".js"}function c(a){if(n[a])return n[a].exports;var t=n[a]={i:a,l:!1,exports:{}};return e[a].call(t.exports,t,t.exports,c),t.l=!0,t.exports}c.e=function(e){var a=[],t={"chunk-9cb9ce8c":1};r[e]?a.push(r[e]):0!==r[e]&&t[e]&&a.push(r[e]=new Promise((function(a,t){for(var n="css/"+({}[e]||e)+"."+{"chunk-2d0ac02b":"31d6cfe0","chunk-2d0ba364":"31d6cfe0","chunk-2d0d7a3b":"31d6cfe0","chunk-2d208716":"31d6cfe0","chunk-2d2172ee":"31d6cfe0","chunk-9cb9ce8c":"7aa87034"}[e]+".css",o=c.p+n,i=document.getElementsByTagName("link"),s=0;s<i.length;s++){var l=i[s],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===n||u===o))return a()}var d=document.getElementsByTagName("style");for(s=0;s<d.length;s++){l=d[s],u=l.getAttribute("data-href");if(u===n||u===o)return a()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=a,m.onerror=function(a){var n=a&&a.target&&a.target.src||o,i=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=n,delete r[e],m.parentNode.removeChild(m),t(i)},m.href=o;var f=document.getElementsByTagName("head")[0];f.appendChild(m)})).then((function(){r[e]=0})));var n=o[e];if(0!==n)if(n)a.push(n[2]);else{var i=new Promise((function(a,t){n=o[e]=[a,t]}));a.push(n[2]=i);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=s(e);var d=new Error;l=function(a){u.onerror=u.onload=null,clearTimeout(m);var t=o[e];if(0!==t){if(t){var n=a&&("load"===a.type?"missing":a.type),r=a&&a.target&&a.target.src;d.message="Loading chunk "+e+" failed.\n("+n+": "+r+")",d.name="ChunkLoadError",d.type=n,d.request=r,t[1](d)}o[e]=void 0}};var m=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(a)},c.m=e,c.c=n,c.d=function(e,a,t){c.o(e,a)||Object.defineProperty(e,a,{enumerable:!0,get:t})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,a){if(1&a&&(e=c(e)),8&a)return e;if(4&a&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(c.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&a&&"string"!=typeof e)for(var n in e)c.d(t,n,function(a){return e[a]}.bind(null,n));return t},c.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(a,"a",a),a},c.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)},c.p="/",c.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=a,l=l.slice();for(var d=0;d<l.length;d++)a(l[d]);var m=u;i.push([0,"chunk-vendors"]),t()})({0:function(e,a,t){e.exports=t("56d7")},"034f":function(e,a,t){"use strict";var n=t("1356"),r=t.n(n);r.a},"0bf1":function(e,a,t){},1:function(e,a){},1356:function(e,a,t){},"1c75":function(e,a,t){},2:function(e,a){},"56d7":function(e,a,t){"use strict";t.r(a);t("cadf"),t("551c"),t("f751"),t("097d");var n=t("2b0e"),r=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-app",[t("v-content",[t("v-layout",[t("v-spacer")],1),t("router-view")],1)],1)},o=[],i={name:"App",components:{},data:function(){return{}}},s=i,c=(t("034f"),t("2877")),l=t("6544"),u=t.n(l),d=t("7496"),m=t("a75b"),f=t("a722"),h=t("2fa4"),v=Object(c["a"])(s,r,o,!1,null,null,null),g=v.exports;u()(v,{VApp:d["a"],VContent:m["a"],VLayout:f["a"],VSpacer:h["a"]});t("7f7f"),t("6762"),t("2fdb");var p=t("8c4f"),b=t("8aa5"),k=t.n(b),_=function(){var e=this,a=e.$createElement,n=e._self._c||a;return n("div",{staticClass:"img-back"},[n("v-container",{staticClass:"home",staticStyle:{height:"100%",position:"relative",width:"100%"},attrs:{align:"center"}},[n("div",{staticStyle:{width:"100%"},attrs:{align:"center"}},[n("img",{attrs:{src:t("cf05")}})]),n("div",{staticClass:"bottom-centered-buttons",attrs:{align:"center"}},[n("div",{staticStyle:{width:"100%"},attrs:{align:"center"}},[n("router-link",{attrs:{to:"/sign-up"}},[n("v-btn",{staticStyle:{width:"100%"},attrs:{color:"primary"}},[e._v("Crear una cuenta")])],1)],1),n("br"),n("div",{staticStyle:{width:"100%"},attrs:{align:"center"}},[n("router-link",{attrs:{to:"/login"}},[n("v-btn",{staticStyle:{width:"100%"},attrs:{color:"primary"}},[e._v("Iniciar sesión")])],1)],1)])])],1)},w=[],x={name:"home",beforeMount:function(){console.log("entro")}},y=x,V=(t("81f1"),t("8336")),P=t("a523"),C=Object(c["a"])(y,_,w,!1,null,"8f7c28ca",null),I=C.exports;u()(C,{VBtn:V["a"],VContainer:P["a"]});var S=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-container",{staticClass:"login",staticStyle:{position:"relative"}},[t("v-row",[t("v-col",{attrs:{cols:"12"}},[t("h2",[e._v("Accede a tu cuenta")])])],1),t("v-col",{attrs:{cols:"12"}},[t("v-card",[t("v-progress-linear",{attrs:{value:"100",height:"10",color:"blue-grey",reactive:"",dark:""}}),t("v-container",[t("v-form",{model:{value:e.validForm,callback:function(a){e.validForm=a},expression:"validForm"}},[t("v-text-field",{attrs:{rules:[e.rules.required],label:"E-mail",required:""},model:{value:e.email,callback:function(a){e.email=a},expression:"email"}}),t("v-text-field",{attrs:{rules:[e.rules.required],"append-icon":e.showPassword?"mdi-eye":"mdi-eye-off",type:e.showPassword?"text":"password",label:"Contraseña"},on:{"click:append":function(a){e.showPassword=!e.showPassword}},model:{value:e.password,callback:function(a){e.password=a},expression:"password"}})],1),t("v-btn",{attrs:{block:"",color:"primary",disabled:e.buttonIsDisabled},on:{click:e.login}},[e._v("Iniciar sesión")])],1)],1)],1),t("v-col",{attrs:{cols:"12",align:"center"}},[t("p",[t("router-link",{attrs:{to:"/send-change-password-email"}},[e._v("¿Has olvidado tu contraseña?")])],1)]),t("v-col",{attrs:{cols:"12",align:"center",id:"sign-up-now-claim"}},[t("p",[e._v("¿Todavía no tienes una cuenta? "),t("router-link",{attrs:{to:"/sign-up"}},[e._v("¡Regístrate ahora!")])],1)]),t("v-snackbar",{attrs:{timeout:4e3},model:{value:e.snackbar,callback:function(a){e.snackbar=a},expression:"snackbar"}},[e._v("\n        "+e._s(e.snackbarText)+"\n        "),t("v-btn",{attrs:{color:"blue",text:""},on:{click:function(a){e.snackbar=!1}}},[e._v("\n            Cerrar\n        ")])],1)],1)},E=[],A=(t("a481"),{name:"login",data:function(){return{validForm:!1,email:"",password:"",showPassword:!1,buttonIsDisabled:!0,snackbar:!1,snackbarText:"",rules:{required:function(e){return!!e||"Este campo es obligatorio"}}}},methods:{login:function(){var e=this;b["auth"]().signInWithEmailAndPassword(this.email,this.password).then((function(a){b["auth"]().setPersistence(b["auth"].Auth.Persistence.LOCAL).then((function(){a.user.emailVerified?e.$router.replace("home"):e.$router.replace("email-verification")})).catch((function(a){console.warn(a),e.snackbarText="Parece que ha habido un problema de conexión. Por favor, vuelve a intentarlo más tarde.",e.snackbar=!0}))})).catch((function(a){console.warn(a),e.snackbarText="E-mail y/o contraseña incorrectos.",e.snackbar=!0}))}},watch:{validForm:function(e){this.buttonIsDisabled=!e}}}),F=A,q=t("b0af"),D=t("62ad"),T=t("4bd4"),U=t("8e36"),O=t("0fd9"),j=t("2db4"),L=t("8654"),$=Object(c["a"])(F,S,E,!1,null,"6bb08321",null),R=$.exports;u()($,{VBtn:V["a"],VCard:q["a"],VCol:D["a"],VContainer:P["a"],VForm:T["a"],VProgressLinear:U["a"],VRow:O["a"],VSnackbar:j["a"],VTextField:L["a"]});var M=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-container",[t("v-row",[t("v-col",{attrs:{cols:"12"}},[t("h2",[e._v("Crea tu cuenta")])]),t("v-col",{attrs:{cols:"12"}},[t("v-card",[t("v-progress-linear",{attrs:{value:"50",height:"10",color:"blue-grey",reactive:"",dark:""}}),t("v-container",[t("v-form",{model:{value:e.validForm,callback:function(a){e.validForm=a},expression:"validForm"}},[t("v-text-field",{attrs:{rules:[e.rules.required,e.rules.min4Char,e.rules.validUsername],label:"Nombre de usuario",counter:"",required:""},model:{value:e.username,callback:function(a){e.username=a},expression:"username"}}),t("v-text-field",{attrs:{rules:[e.rules.required,e.rules.email],label:"E-mail",required:""},model:{value:e.email,callback:function(a){e.email=a},expression:"email"}}),t("v-text-field",{attrs:{rules:[e.rules.required,e.rules.min8Char,e.rules.samePassword],"append-icon":e.showPassword?"mdi-eye":"mdi-eye-off",type:e.showPassword?"text":"password",label:"Contraseña",hint:"Mínimo 8 caracteres",counter:"",required:""},on:{"click:append":function(a){e.showPassword=!e.showPassword}},model:{value:e.password,callback:function(a){e.password=a},expression:"password"}}),t("v-text-field",{attrs:{rules:[e.rules.required,e.rules.min8Char,e.rules.samePassword],"append-icon":e.showPassword?"mdi-eye":"mdi-eye-off",type:e.showPassword?"text":"password",label:"Repite la contraseña",hint:"Mínimo 8 caracteres",counter:"",required:""},on:{"click:append":function(a){e.showPassword=!e.showPassword}},model:{value:e.password2,callback:function(a){e.password2=a},expression:"password2"}})],1),t("v-btn",{attrs:{block:"",color:"primary",disabled:e.buttonIsDisabled},on:{click:e.signUp}},[e._v("Registrar")])],1)],1)],1),t("v-col",{attrs:{cols:"12",align:"center",id:"login-now-claim"}},[t("p",[e._v("¿Ya tienes una cuenta? "),t("router-link",{attrs:{to:"/login"}},[e._v("¡Accede ahora!")])],1)])],1),t("v-snackbar",{attrs:{timeout:4e3},model:{value:e.snackbar,callback:function(a){e.snackbar=a},expression:"snackbar"}},[e._v("\n        "+e._s(e.snackbarText)+"\n        "),t("v-btn",{attrs:{color:"blue",text:""},on:{click:function(a){e.snackbar=!1}}},[e._v("\n            Cerrar\n        ")])],1)],1)},N=[],B=(t("ac6a"),t("5df3"),t("768b")),H=(t("96cf"),t("3b8d")),Y={name:"signUp",data:function(){var e=this;return{validForm:!1,username:"",email:"",password:"",password2:"",showPassword:!1,buttonIsDisabled:!0,snackbar:!1,snackbarText:"",rules:{required:function(e){return!!e||"Este campo es obligatorio"},min4Char:function(e){return e.length>=4||"Mínimo 4 caracteres"},min8Char:function(e){return e.length>=8||"Mínimo 8 caracteres"},email:function(e){var a=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return a.test(e)||"E-mail no válido"},validUsername:function(e){var a=/[a-zA-Z_]+[a-zA-Z0-9_]*/,t=/^_/,n=/_[_]+/;return a.test(e)&&!t.test(e)&&!n.test(e)||"Nombre de usuario no válido"},samePassword:function(a){return 0==a.localeCompare(e.password)||"Las contraseñas no coinciden"}}}},methods:{signUp:function(){var e=Object(H["a"])(regeneratorRuntime.mark((function e(){var a,t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=b["firestore"](),e.next=3,this.isUsernameInUse();case 3:if(!e.sent){e.next=8;break}return console.log("entro"),this.snackbarText="Ya existe un usuario con ese nombre",this.snackbar=!0,e.abrupt("return");case 8:b["auth"]().createUserWithEmailAndPassword(this.email,this.password).then((function(){b["auth"]().setPersistence(b["auth"].Auth.Persistence.LOCAL).then((function(){a.collection("Users").doc(b["auth"]().currentUser.uid).set({username:t.username}).then((function(){console.log("Username successfully written in users"),b["auth"]().updateUser(b["auth"]().currentUser.uid,{displayName:t.username}).then((function(e){console.log("Successfully updated user",e.toJSON()),this.$router.replace("email-verification")})).catch((function(e){console.warn("Error updating user:",e)}))})).catch((function(e){console.error("Error writing username in users: ",e),this.snackbarText="Parece que ha habido un problema de conexión. Por favor, vuelve a intentarlo más tarde.",this.snackbar=!0}))})).catch((function(e){console.error(e),t.snackbarText="Parece que ha habido un problema de conexión. Por favor, vuelve a intentarlo más tarde.",t.snackbar=!0}))})).catch((function(e){console.error(e),"auth/email-already-in-use"==e.code?t.snackbarText="Ya existe una cuenta registrada con ese E-mail":t.snackbarText="Parece que ha habido un problema de conexión. Por favor, vuelve a intentarlo más tarde.",t.snackbar=!0}));case 9:case"end":return e.stop()}}),e,this)})));function a(){return e.apply(this,arguments)}return a}(),isUsernameInUse:function(){var e=Object(H["a"])(regeneratorRuntime.mark((function e(){var a,t,n,r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=b["firestore"](),t=!1,e.next=4,Promise.all([a.collection("Users").where("username","==",this.username).get()]);case 4:return n=e.sent,r=Object(B["a"])(n,1),o=r[0],o.size>0&&(t=!0),e.abrupt("return",t);case 9:case"end":return e.stop()}}),e,this)})));function a(){return e.apply(this,arguments)}return a}()},watch:{validForm:function(e){this.buttonIsDisabled=!e}}},z=Y,W=Object(c["a"])(z,M,N,!1,null,"12b1575f",null),Z=W.exports;u()(W,{VBtn:V["a"],VCard:q["a"],VCol:D["a"],VContainer:P["a"],VForm:T["a"],VProgressLinear:U["a"],VRow:O["a"],VSnackbar:j["a"],VTextField:L["a"]});var J=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-container",{staticClass:"email-verification"},[t("v-row",[t("v-col",{attrs:{cols:"12"}},[t("h2",[e._v("Verifica tu E-mail")])])],1),t("v-col",{attrs:{cols:"12"}},[t("v-card",[t("v-progress-linear",{attrs:{value:"100",height:"10",color:"blue-grey",reactive:"",dark:""}}),t("v-container",[t("v-row",[t("v-col",{attrs:{align:"center"}},[t("br"),t("br"),t("v-progress-circular",{attrs:{size:"100",color:"primary",indeterminate:""}}),t("br"),t("br")],1)],1),t("v-row",[t("v-col",[e._v("\n                        Para poder continuar, completa el proceso de verificación a través del enlace que hemos enviado a tu E-mail.\n                    ")])],1)],1)],1)],1),t("v-snackbar",{attrs:{timeout:4e3},model:{value:e.snackbar,callback:function(a){e.snackbar=a},expression:"snackbar"}},[e._v("\n        "+e._s(e.snackbarText)+"\n        "),t("v-btn",{attrs:{color:"blue",text:""},on:{click:function(a){e.snackbar=!1}}},[e._v("\n            Cerrar\n        ")])],1)],1)},K=[],Q={name:"emailVerification",data:function(){return{sendEmailButtonIsDisabled:!0,snackbar:!1,snackbarText:"",isEmailVerified:!1,intervalCheckEmailVerified:null,user:null}},methods:{sendEmailVerification:function(){this.user.sendEmailVerification().then((function(){console.log("verification sent: ")}),(function(e){console.log("verification not sent: "+e.message)}))},checkEmailVerified:function(){var e=this;console.log("running"),this.user.reload().then((function(){b["auth"]().currentUser.emailVerified&&(console.log("Email is verified"),clearInterval(e.intervalCheckEmailVerified),e.$router.replace("fill-your-profile-info"))}))}},beforeMount:function(){this.user=b["auth"]().currentUser,console.log(this.user.emailVerified),this.user.emailVerified||this.sendEmailVerification(),this.intervalCheckEmailVerified=setInterval(this.checkEmailVerified,1500)}},G=Q,X=t("490a"),ee=Object(c["a"])(G,J,K,!1,null,"7a98fd0c",null),ae=ee.exports;u()(ee,{VBtn:V["a"],VCard:q["a"],VCol:D["a"],VContainer:P["a"],VProgressCircular:X["a"],VProgressLinear:U["a"],VRow:O["a"],VSnackbar:j["a"]});var te=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-container",[t("v-row",[t("v-col",{attrs:{cols:"12"}},[t("h2",[e._v("Rellena tu perfil")])]),t("v-col",{attrs:{cols:"12"}},[t("v-card",[t("v-progress-linear",{attrs:{value:"25",height:"10",color:"blue-grey",reactive:"",dark:""}}),t("v-container",[t("v-form",{model:{value:e.validForm,callback:function(a){e.validForm=a},expression:"validForm"}},[t("v-text-field",{attrs:{rules:[e.rules.required],label:"Nombre",required:""},model:{value:e.name,callback:function(a){e.name=a},expression:"name"}}),t("v-text-field",{attrs:{rules:[e.rules.required],label:"Apellidos",required:""},model:{value:e.lastName,callback:function(a){e.lastName=a},expression:"lastName"}}),t("v-dialog",{ref:"dialog",attrs:{"return-value":e.birthDate,persistent:""},on:{"update:returnValue":function(a){e.birthDate=a},"update:return-value":function(a){e.birthDate=a}},scopedSlots:e._u([{key:"activator",fn:function(a){var n=a.on;return[t("v-text-field",e._g({attrs:{label:"Fecha de nacimiento",hint:"AAAA-MM-DD","append-icon":"mdi-calendar",rules:[e.rules.required,e.rules.minAge],readonly:"",required:""},on:{click:e.setDefaultBirthDate},model:{value:e.birthDate,callback:function(a){e.birthDate=a},expression:"birthDate"}},n))]}}]),model:{value:e.modal,callback:function(a){e.modal=a},expression:"modal"}},[t("v-date-picker",{attrs:{scrollable:"",width:"97%",locale:"es"},model:{value:e.birthDate,callback:function(a){e.birthDate=a},expression:"birthDate"}},[t("v-spacer"),t("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(a){e.modal=!1}}},[e._v("Cancel")]),t("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(a){return e.$refs.dialog.save(e.birthDate)}}},[e._v("OK")])],1)],1),t("v-select",{staticStyle:{"margin-top":"15px"},attrs:{rules:[e.rules.required],items:e.genderOptions,"item-text":"option",label:"Género",dense:"","return-object":""},scopedSlots:e._u([{key:"item",fn:function(a){var n=a.item;return[t("v-avatar",[t("img",{staticStyle:{height:"60%",width:"auto"},attrs:{src:n.img}})]),e._v("\n                                "+e._s(n.option)+"\n                            ")]}},{key:"selection",fn:function(a){var n=a.item;a.select,a.selected;return[t("v-avatar",[t("img",{staticStyle:{height:"50%",width:"auto"},attrs:{src:n.img}})]),e._v("\n                                "+e._s(n.option)+"\n                            ")]}}]),model:{value:e.gender,callback:function(a){e.gender=a},expression:"gender"}}),t("v-textarea",{staticStyle:{"margin-top":"15px"},attrs:{outlined:"",rules:[e.rules.required,e.rules.min20Char],label:"Cuéntanos un poco sobre ti",required:"",counter:"",maxlength:"140"},model:{value:e.description,callback:function(a){e.description=a},expression:"description"}})],1),t("v-btn",{attrs:{block:"",color:"primary",disabled:e.buttonIsDisabled},on:{click:e.setProfileInfo}},[e._v("Continuar")])],1)],1)],1),t("v-snackbar",{attrs:{timeout:4e3},model:{value:e.snackbar,callback:function(a){e.snackbar=a},expression:"snackbar"}},[e._v("\n            "+e._s(e.snackbarText)+"\n            "),t("v-btn",{attrs:{color:"blue",text:""},on:{click:function(a){e.snackbar=!1}}},[e._v("\n                Cerrar\n            ")])],1)],1)],1)},ne=[],re=16,oe={name:"fillYourProfileInfo",data:function(){var e=this;return{buttonIsDisabled:!0,snackbar:!1,snackbarText:"",name:"",lastName:"",birthDate:null,firstTimeOpenCalendar:!0,menu:!1,modal:!1,description:"",gender:null,validForm:!1,genderOptions:[{option:"Hombre",img:"img/genders/male.svg"},{option:"Mujer",img:"img/genders/female.svg"}],rules:{required:function(e){return!!e||"Este campo es obligatorio"},min20Char:function(e){return e.length>=20||"Mínimo 20 caracteres"},minAge:function(a){var t,n=new Date(a),r=new Date;return t=!(r.getFullYear()-n.getFullYear()<re)&&(r.getFullYear()-n.getFullYear()!=re||!(r.getMonth()<n.getMonth())&&(r.getMonth()!=n.getMonth()||!(r.getDate()<n.getDate()))),t||"Debes tener al menos"+e.minimumAge+" años para poder registrarte"},samePassword:function(a){return 0==a.localeCompare(e.password)||"Las contraseñas no coinciden"}}}},methods:{setProfileInfo:function(){var e=this,a=b["firestore"]();console.log(b["auth"]().currentUser.uid),a.collection("Users").doc(b["auth"]().currentUser.uid).set({name:this.name,lastName:this.lastName,birthDate:this.birthDate,gender:this.gender.option,description:this.description},{merge:!0}).then((function(){console.log("Profile info successfully written in users"),e.$router.replace("fill-your-languages")})).catch((function(e){console.error("Error writing profile info in users: ",e),this.snackbarText="Parece que ha habido un problema de conexión. Por favor, vuelve a intentarlo más tarde.",this.snackbar=!0}))},setDefaultBirthDate:function(){if(this.firstTimeOpenCalendar){var e=new Date;e.setFullYear(e.getFullYear()-re),this.birthDate=e.toISOString().substr(0,10),this.firstTimeOpenCalendar=!1}}},watch:{validForm:function(e){this.buttonIsDisabled=!e}}},ie=oe,se=t("8212"),ce=t("2e4b"),le=t("169a"),ue=t("b974"),de=t("a844"),me=Object(c["a"])(ie,te,ne,!1,null,"8ec4a8fe",null),fe=me.exports;u()(me,{VAvatar:se["a"],VBtn:V["a"],VCard:q["a"],VCol:D["a"],VContainer:P["a"],VDatePicker:ce["a"],VDialog:le["a"],VForm:T["a"],VProgressLinear:U["a"],VRow:O["a"],VSelect:ue["a"],VSnackbar:j["a"],VSpacer:h["a"],VTextField:L["a"],VTextarea:de["a"]});var he=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-container",[t("v-row",[t("v-col",{attrs:{cols:"12"}},[t("h2",[e._v("Tus idiomas")])])],1),t("v-col",{attrs:{cols:"12"}},[t("v-card",[t("v-progress-linear",{attrs:{value:"50",height:"10",color:"blue-grey",reactive:"",dark:""}}),t("v-container",[t("h4",[e._v("Idiomas maternos")]),t("v-combobox",{attrs:{items:e.items_known_languages,chips:"",type:"button",clearable:"",label:"¿Qué idiomas hablas con soltura?",multiple:"",solo:""},scopedSlots:e._u([{key:"item",fn:function(a){a.index;var n=a.item;return[t("v-chip",{attrs:{color:"white",block:""}},[t("v-avatar",{attrs:{left:""}},[t("v-img",{attrs:{src:e.createPathToFlagImage(n.id)}})],1),t("strong",[e._v(e._s(n.text))]),e._v(" \n                        ")],1)]}},{key:"selection",fn:function(a){var n=a.attrs,r=a.item,o=a.select,i=a.selected;return[t("v-chip",e._b({attrs:{"input-value":i,close:""},on:{click:o,"click:close":function(a){return e.remove_known_language(r)}}},"v-chip",n,!1),[t("v-avatar",{attrs:{left:""}},[t("v-img",{attrs:{src:e.createPathToFlagImage(r.id)}})],1),t("strong",[e._v(e._s(r.text))]),e._v(" \n                        ")],1)]}}]),model:{value:e.chips_known_languages,callback:function(a){e.chips_known_languages=a},expression:"chips_known_languages"}}),t("h4",[e._v("Idiomas que quieres practicar")]),t("v-combobox",{attrs:{items:e.items_languages_to_learn,chips:"",clearable:"",type:"button",label:"¿Qué idiomas buscas mejorar?",multiple:"",solo:""},scopedSlots:e._u([{key:"item",fn:function(a){a.index;var n=a.item;return[t("v-chip",{attrs:{color:"white",block:""}},[t("v-avatar",{attrs:{left:""}},[t("v-img",{attrs:{src:e.createPathToFlagImage(n.id)}})],1),t("strong",[e._v(e._s(n.text))]),e._v(" \n                        ")],1)]}},{key:"selection",fn:function(a){var n=a.attrs,r=a.item,o=a.select,i=a.selected;return[t("v-chip",e._b({attrs:{"input-value":i,close:""},on:{click:o,"click:close":function(a){return e.remove_language_to_learn(r)}}},"v-chip",n,!1),[t("v-avatar",{attrs:{left:""}},[t("v-img",{attrs:{src:e.createPathToFlagImage(r.id)}})],1),t("strong",[e._v(e._s(r.text))]),e._v(" \n                        ")],1)]}}]),model:{value:e.chips_languages_to_learn,callback:function(a){e.chips_languages_to_learn=a},expression:"chips_languages_to_learn"}}),t("v-btn",{attrs:{block:"",color:"primary",disabled:e.buttonIsDisabled},on:{click:e.setLanguages}},[e._v("Continuar")])],1)],1)],1),t("v-snackbar",{attrs:{timeout:4e3},model:{value:e.snackbar,callback:function(a){e.snackbar=a},expression:"snackbar"}},[e._v("\n        "+e._s(e.snackbarText)+"\n        "),t("v-btn",{attrs:{color:"blue",text:""},on:{click:function(a){e.snackbar=!1}}},[e._v("\n            Cerrar\n        ")])],1)],1)},ve=[],ge=t("75fc"),pe=[{text:"Alemán",id:"de"},{text:"Chino",id:"zh"},{text:"Español",id:"es"},{text:"Francés",id:"fr"},{text:"Inglés",id:"en"},{text:"Italiano",id:"it"},{text:"Japonés",id:"ja"},{text:"Portugués",id:"pt"}],be={name:"FillYourLanguages",data:function(){return{buttonIsDisabled:!0,snackbar:!1,snackbarText:"",chips_known_languages:[],chips_languages_to_learn:[],items_known_languages:pe,items_languages_to_learn:pe}},methods:{remove_known_language:function(e){this.chips_known_languages.splice(this.chips_known_languages.indexOf(e),1),this.chips_known_languages=Object(ge["a"])(this.chips_known_languages)},remove_language_to_learn:function(e){this.chips_languages_to_learn.splice(this.chips_languages_to_learn.indexOf(e),1),this.chips_languages_to_learn=Object(ge["a"])(this.chips_languages_to_learn)},validLanguages:function(){this.chips_known_languages.length>0&&this.chips_languages_to_learn.length>0?this.buttonIsDisabled=!1:this.buttonIsDisabled=!0},filter_items_known_languages:function(){var e=this;this.items_known_languages=pe.filter((function(a){return!e.chips_languages_to_learn.includes(a)}))},filter_items_languages_to_learn:function(){var e=this;this.items_languages_to_learn=pe.filter((function(a){return!e.chips_known_languages.includes(a)}))},setLanguages:function(){for(var e=this,a=b["firestore"](),t=[],n=[],r=0;r<this.chips_known_languages.length;r++)t.push(this.chips_known_languages[r].id);for(var o=0;o<this.chips_languages_to_learn.length;o++)n.push(this.chips_languages_to_learn[o].id);a.collection("Users").doc(b["auth"]().currentUser.uid).set({known_languages:t,languages_to_learn:n},{merge:!0}).then((function(){console.log("Languages info successfully written in users"),e.$router.replace("set-your-profile-image")})).catch((function(e){console.error("Error writing languages info in users: ",e),self.snackbarText="Parece que ha habido un problema de conexión. Por favor, vuelve a intentarlo más tarde.",self.snackbar=!0}))},createPathToFlagImage:function(e){return"img/flags/"+e+".svg"}},watch:{chips_known_languages:function(){this.validLanguages(),this.filter_items_languages_to_learn()},chips_languages_to_learn:function(){this.validLanguages(),this.filter_items_known_languages()}}},ke=be,_e=(t("f3bd"),t("cc20")),we=t("2b5d"),xe=t("adda"),ye=Object(c["a"])(ke,he,ve,!1,null,"20e5230e",null),Ve=ye.exports;u()(ye,{VAvatar:se["a"],VBtn:V["a"],VCard:q["a"],VChip:_e["a"],VCol:D["a"],VCombobox:we["a"],VContainer:P["a"],VImg:xe["a"],VProgressLinear:U["a"],VRow:O["a"],VSnackbar:j["a"]});var Pe=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-container",{staticStyle:{height:"100%",position:"relative",width:"100%"},attrs:{align:"center"}},[t("v-row",[t("v-col",{attrs:{cols:"12"}},[t("h2",[e._v("Elige tu foto de perfil")])])],1),t("v-row",{staticStyle:{height:"100%"}},[t("v-col",{staticStyle:{height:"100%"},attrs:{cols:"12",sm:"6","offset-sm":"3",md:"4","offset-md":"4"}},[t("v-card",{staticClass:"mx-auto",staticStyle:{height:"75%"},attrs:{align:"center"}},[t("v-progress-linear",{attrs:{value:"100",height:"10px",color:"blue-grey",dark:""}}),t("v-avatar",{staticClass:"thumbnail",staticStyle:{width:"95%","padding-top":"95%","vertical-align":"top",position:"relative","margin-top":"5%"}},[e.showImg?t("img",{staticClass:"white--text align-end",staticStyle:{width:"100%",position:"absolute",top:"0",height:"100%","object-position":"center","object-fit":"cover"},attrs:{"aspect-ratio":1,src:e.imagePreview}}):e._e()]),t("v-btn",{staticClass:"button-open-camera",attrs:{absolute:"",dark:"",fab:"",right:"",color:"primary"},on:{click:function(a){return e.$refs.myFiles.click()}}},[t("v-icon",[e._v("mdi-camera")])],1),t("v-container",{staticClass:"bottom-centered-buttons"},[t("v-btn",{attrs:{block:"",color:"primary",disabled:e.buttonIsDisabled},on:{click:e.uploadUserProfileImage}},[e._v("Continuar")])],1)],1)],1)],1),t("input",{ref:"myFiles",attrs:{hidden:"",type:"file",accept:"image/*",capture:""},on:{change:e.previewFiles}}),t("v-snackbar",{attrs:{timeout:2500,top:!0},model:{value:e.snackbar,callback:function(a){e.snackbar=a},expression:"snackbar"}},[e._v("\n        "+e._s(e.textSnackbar)+"\n        "),t("v-btn",{attrs:{color:"pink",text:""},on:{click:function(a){e.snackbar=!1}}},[e._v("\n            Close\n        ")])],1)],1)},Ce=[],Ie=t("4627"),Se="img/defaultUserImages/defaultUserImage.svg",Ee={name:"SetYourProfileImage",data:function(){return{showImg:!0,imagePreview:Se,buttonIsDisabled:!1,imageUpload:Se.replace("data:image/jpeg;base64,","").replace("data:image/png;base64,",""),snackbar:!1,textSnackbar:"Error"}},methods:{previewFiles:function(){var e=this;if(this.$refs.myFiles.files.length>0){if(!this.$refs.myFiles.files[0].type.includes("image/"))return void alert("Por favor, selecciona una imagen");var a=this.$refs.myFiles.files[0],t={maxSizeMB:.5,maxWidthOrHeight:500,useWebWorker:!0};Object(Ie["a"])(a,t).then((function(a){if("function"===typeof FileReader){var t=new FileReader;t.onload=function(a){e.imgSrc=a.target.result,e.imagePreview=e.imgSrc,e.imageUpload=e.imagePreview.replace("data:image/jpeg;base64,","").replace("data:image/png;base64,",""),console.log(e.imagePreview),e.showImg=!1,n["a"].nextTick((function(){e.showImg=!0}))},t.readAsDataURL(a)}else alert("Lo sentimos, la API FileReader no está soportada")})).catch((function(e){console.log(e.message)}))}else console.warn("img error")},uploadUserProfileImage:function(){var e=this;n["a"].nextTick((function(){var a=k.a.firestore(),t=k.a.auth().currentUser.uid,n=k.a.storage().ref().child("UserProfileImages/"+t);n.putString(e.imageUpload,"base64").then((function(){console.log("User profile image uploaded"),n.getDownloadURL().then((function(n){a.collection("Users").doc(t).set({profileImage:n},{merge:!0}).then((function(){console.log("User profile image url successfully written in users"),e.$router.replace("dashboard")})).catch((function(e){console.error("Error writing user profile image url info in users: ",e),this.snackbarText="Parece que ha habido un problema de conexión. Por favor, vuelve a intentarlo más tarde.",this.snackbar=!0}))}))})).catch((function(){e.snackbar=!0,e.textSnackbar="Error subiendo la imagen"}))}))}},mounted:function(){var e=k.a.firestore(),a=k.a.auth().currentUser.uid,t=this;e.collection("Users").doc(a).get().then((function(e){e.exists?"Hombre"==e.data().gender?(t.imagePreview="img/defaultUserImages/male-defaultUserImage.svg",console.log("HOLA")):"Mujer"==e.data().gender&&(t.imagePreview="img/defaultUserImages/female-defaultUserImage.svg"):console.warn("No such document!")})).catch((function(e){console.warn("Error getting document:",e),t.snackbarText="Parece que ha habido un problema de conexión. Por favor, asegúrese de estar conectado a Internet.",t.snackbar=!0}))}},Ae=Ee,Fe=(t("e0a8"),t("132d")),qe=Object(c["a"])(Ae,Pe,Ce,!1,null,"0f8a5d98",null),De=qe.exports;u()(qe,{VAvatar:se["a"],VBtn:V["a"],VCard:q["a"],VCol:D["a"],VContainer:P["a"],VIcon:Fe["a"],VProgressLinear:U["a"],VRow:O["a"],VSnackbar:j["a"]});var Te=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-container",{staticClass:"send-change-password-email",staticStyle:{position:"relative"}},[t("v-row",[t("v-col",{attrs:{cols:"12"}},[t("h2",[e._v("¿Has olvidado tu contraseña?")])])],1),t("v-col",{attrs:{cols:"12"}},[t("v-card",[t("v-progress-linear",{attrs:{height:"10",color:"blue-grey",reactive:"",dark:""},model:{value:e.progressValue,callback:function(a){e.progressValue=a},expression:"progressValue"}}),t("v-container",[t("p",{attrs:{align:"justify"}},[e._v("\n                    ¿Has olvidado tu contraseña? Introduce tu E-mail y te ayudaremos a recuperarla:\n                ")]),t("v-form",{model:{value:e.validForm,callback:function(a){e.validForm=a},expression:"validForm"}},[t("v-text-field",{attrs:{rules:[e.rules.required,e.rules.email],label:"E-mail",required:""},model:{value:e.email,callback:function(a){e.email=a},expression:"email"}})],1),t("br"),t("v-btn",{attrs:{block:"",color:"primary",disabled:e.buttonIsDisabled},on:{click:e.sendChangePasswordEmail}},[e._v("Restablecer contraseña")])],1)],1)],1),t("v-dialog",{model:{value:e.dialog,callback:function(a){e.dialog=a},expression:"dialog"}},[t("v-card",[t("br"),t("v-card-text",{staticStyle:{color:"black","padding-bottom":"0px"},attrs:{align:"justify"}},[t("p",{staticStyle:{"margin-bottom":"7px"}},[e._v("En un breve período de tiempo recibirás un email. Ábrelo y sigue las instrucciones para restablecer tu contraseña.")])]),t("v-card-actions",{staticStyle:{"padding-bottom":"15px"}},[t("v-spacer"),t("v-btn",{attrs:{color:"primary"},on:{click:e.redirectToHome}},[e._v("\n                    Entendido\n                ")]),t("v-spacer")],1)],1)],1),t("v-snackbar",{attrs:{timeout:4e3},model:{value:e.snackbar,callback:function(a){e.snackbar=a},expression:"snackbar"}},[e._v("\n        "+e._s(e.snackbarText)+"\n        "),t("v-btn",{attrs:{color:"primary",text:""},on:{click:function(a){e.snackbar=!1}}},[e._v("\n            Cerrar\n        ")])],1)],1)},Ue=[],Oe={name:"SendChangePasswordEmail",data:function(){return{progressValue:100,validForm:!1,email:"",buttonIsDisabled:!0,dialog:!1,snackbar:!1,snackbarText:"Parece que ha habido un problema de conexión. Por favor, vuelve a intentarlo más tarde.",rules:{required:function(e){return!!e||"Este campo es obligatorio"},email:function(e){var a=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return a.test(e)||"E-mail no válido"}}}},methods:{sendChangePasswordEmail:function(){var e=b["auth"](),a=this;e.sendPasswordResetEmail(this.email).then((function(){a.dialog=!0})).catch((function(e){console.warn(e),"auth/user-not-found"!=e.code?a.snackbar=!0:a.dialog=!0}))},redirectToHome:function(){this.dialog=!1,this.$router.replace("home")}},watch:{validForm:function(e){this.buttonIsDisabled=!e}}},je=Oe,Le=t("99d9"),$e=Object(c["a"])(je,Te,Ue,!1,null,"5c0b0e34",null),Re=$e.exports;u()($e,{VBtn:V["a"],VCard:q["a"],VCardActions:Le["a"],VCardText:Le["b"],VCol:D["a"],VContainer:P["a"],VDialog:le["a"],VForm:T["a"],VProgressLinear:U["a"],VRow:O["a"],VSnackbar:j["a"],VSpacer:h["a"],VTextField:L["a"]}),n["a"].use(p["a"]);var Me=new p["a"]({mode:"history",base:"/",routes:[{path:"*",redirect:"/home"},{path:"/",redirect:"/home"},{path:"/home",name:"home",component:I},{path:"/login",name:"login",component:R},{path:"/sign-up",name:"signUp",component:Z},{path:"/email-verification",name:"emailVerification",component:ae,meta:{requiresAuth:!0}},{path:"/fill-your-profile-info",name:"fillYourProfileInfo",component:fe,meta:{requiresAuth:!0}},{path:"/fill-your-languages",name:"fillYourLanguages",component:Ve,meta:{requiresAuth:!0}},{path:"/set-your-profile-image",name:"setYourProfileImage",component:De,meta:{requiresAuth:!0}},{path:"/send-change-password-email",name:"sendChangePasswordEmail",component:Re,meta:{requiresAuth:!1}},{path:"/dashboard",name:"dashboard",redirect:{name:"profileHome"},meta:{requiresAuth:!0},component:function(){return t.e("chunk-9cb9ce8c").then(t.bind(null,"7277"))},children:[{path:"ranking",name:"rankingHome",meta:{requiresAuth:!0,menu:"ranking"},component:function(){return t.e("chunk-2d0ac02b").then(t.bind(null,"185c"))}},{path:"events",name:"eventsHome",meta:{requiresAuth:!0,menu:"events"},component:function(){return t.e("chunk-2d208716").then(t.bind(null,"a58d"))}},{path:"search",name:"searchHome",meta:{requiresAuth:!0,menu:"search"},component:function(){return t.e("chunk-2d2172ee").then(t.bind(null,"c649"))}},{path:"chat",name:"chatHome",meta:{requiresAuth:!0,menu:"chat"},component:function(){return t.e("chunk-2d0ba364").then(t.bind(null,"35f2"))}},{path:"profile",name:"profileHome",meta:{requiresAuth:!0,menu:"profile"},component:function(){return t.e("chunk-2d0d7a3b").then(t.bind(null,"7859"))}}]}]});Me.beforeEach((function(e,a,t){var n=k.a.auth().currentUser,r=e.matched.some((function(e){return e.meta.requiresAuth}));r&&!n?t("home"):e.matched.some((function(e){return["login","signUp","home"].includes(e.name)}))&&n?t({path:"/dashboard"}):t()}));var Ne=Me,Be=t("9490"),He=t("3e8f"),Ye=80;Be.createServer((function(e,a){He.readFile("index.htm","utf-8",(function(e,t){e&&console.log('We cannot open "index.htm" file.'),a.writeHead(200,{"Content-Type":"text/html; charset=utf-8"}),a.end(t)}))})).listen(Ye,(function(){console.log("Server listening on: http://localhost:%s",Ye)}));var ze=t("2f62");n["a"].use(ze["a"]);var We=new ze["a"].Store({state:{userLoggedInfo:null},mutations:{setUsername:function(e){this.state.userLoggedInfo.username=e}},actions:{}}),Ze=t("9483");Object(Ze["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var Je=t("f309");n["a"].use(Je["a"]);var Ke=new Je["a"]({icons:{iconfont:"mdi"}});n["a"].config.productionTip=!1;var Qe="",Ge={apiKey:"AIzaSyABGil2afckXxQ127FS8fW6y5phy1wzd6g",authDomain:"tfg-vue-m3m.firebaseapp.com",databaseURL:"https://tfg-vue-m3m.firebaseio.com",projectId:"tfg-vue-m3m",storageBucket:"tfg-vue-m3m.appspot.com",messagingSenderId:"144506012173",appId:"1:144506012173:web:8a58aa4b50d8b336184b44"};k.a.initializeApp(Ge),k.a.auth().onAuthStateChanged((function(){Qe||(Qe=new n["a"]({router:Ne,store:We,vuetify:Ke,render:function(e){return e(g)}}).$mount("#app"))}))},"56e5":function(e,a,t){},"81f1":function(e,a,t){"use strict";var n=t("0bf1"),r=t.n(n);r.a},cf05:function(e,a,t){e.exports=t.p+"img/logo.82b9c7a5.png"},e0a8:function(e,a,t){"use strict";var n=t("56e5"),r=t.n(n);r.a},f3bd:function(e,a,t){"use strict";var n=t("1c75"),r=t.n(n);r.a}});
//# sourceMappingURL=app.a340e56d.js.map