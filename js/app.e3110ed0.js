(function(e){function a(a){for(var n,s,o=a[0],c=a[1],l=a[2],d=0,m=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&m.push(r[s][0]),r[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);u&&u(a);while(m.length)m.shift()();return i.push.apply(i,l||[]),t()}function t(){for(var e,a=0;a<i.length;a++){for(var t=i[a],n=!0,o=1;o<t.length;o++){var c=t[o];0!==r[c]&&(n=!1)}n&&(i.splice(a--,1),e=s(s.s=t[0]))}return e}var n={},r={app:0},i=[];function s(a){if(n[a])return n[a].exports;var t=n[a]={i:a,l:!1,exports:{}};return e[a].call(t.exports,t,t.exports,s),t.l=!0,t.exports}s.m=e,s.c=n,s.d=function(e,a,t){s.o(e,a)||Object.defineProperty(e,a,{enumerable:!0,get:t})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,a){if(1&a&&(e=s(e)),8&a)return e;if(4&a&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(s.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&a&&"string"!=typeof e)for(var n in e)s.d(t,n,function(a){return e[a]}.bind(null,n));return t},s.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(a,"a",a),a},s.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=a,o=o.slice();for(var l=0;l<o.length;l++)a(o[l]);var u=c;i.push([0,"chunk-vendors"]),t()})({0:function(e,a,t){e.exports=t("56d7")},"025c":function(e,a,t){"use strict";var n=t("deb7"),r=t.n(n);r.a},"43ca":function(e,a,t){"use strict";var n=t("8d8b"),r=t.n(n);r.a},"56d7":function(e,a,t){"use strict";t.r(a);t("cadf"),t("551c"),t("f751"),t("097d");var n=t("2b0e"),r=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-app",[t("v-content",[t("v-layout",[t("v-spacer"),t("v-spacer")],1),t("router-view")],1)],1)},i=[],s={name:"App",components:{},data:function(){return{}}},o=s,c=t("2877"),l=t("6544"),u=t.n(l),d=t("7496"),m=t("a75b"),f=t("a722"),p=t("2fa4"),h=Object(c["a"])(o,r,i,!1,null,null,null),v=h.exports;u()(h,{VApp:d["a"],VContent:m["a"],VLayout:f["a"],VSpacer:p["a"]});var g=t("8c4f"),b=t("8aa5"),_=t.n(b),k=function(){var e=this,a=e.$createElement,n=e._self._c||a;return n("v-container",{staticClass:"sign-up",staticStyle:{height:"100%",position:"relative",width:"100%"},attrs:{align:"center"}},[n("div",{staticStyle:{width:"100%"},attrs:{align:"center"}},[n("img",{attrs:{src:t("cf05")}})]),n("div",{staticClass:"bottom-centered-buttons",attrs:{align:"center"}},[n("div",{staticStyle:{width:"100%"},attrs:{align:"center"}},[n("router-link",{attrs:{to:"/sign-up"}},[n("v-btn",{staticStyle:{width:"100%"},attrs:{color:"primary"}},[e._v("Crear una cuenta")])],1)],1),n("br"),n("div",{staticStyle:{width:"100%"},attrs:{align:"center"}},[n("router-link",{attrs:{to:"/login"}},[n("v-btn",{staticStyle:{width:"100%"},attrs:{color:"primary"}},[e._v("Iniciar sesión")])],1)],1)])])},w=[],x={},y=x,S=(t("7bbe"),t("8336")),V=t("a523"),P=Object(c["a"])(y,k,w,!1,null,"8bd21964",null),C=P.exports;u()(P,{VBtn:S["a"],VContainer:V["a"]});var D=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-container",{staticClass:"login"},[t("div",{staticClass:"login"},[t("h2",[e._v("Accede a tu cuenta")]),t("v-form",{model:{value:e.validForm,callback:function(a){e.validForm=a},expression:"validForm"}},[t("v-text-field",{attrs:{rules:[e.rules.required],label:"E-mail",required:""},model:{value:e.email,callback:function(a){e.email=a},expression:"email"}}),t("v-text-field",{attrs:{rules:[e.rules.required],"append-icon":e.showPassword?"mdi-eye":"mdi-eye-off",type:e.showPassword?"text":"password",label:"Contraseña"},on:{"click:append":function(a){e.showPassword=!e.showPassword}},model:{value:e.password,callback:function(a){e.password=a},expression:"password"}})],1),t("div",{attrs:{align:"center"}},[t("v-spacer"),t("v-btn",{attrs:{color:"primary",disabled:e.buttonIsDisabled},on:{click:e.login}},[e._v("Iniciar sesión")]),t("v-spacer")],1),t("br"),t("div",{attrs:{align:"center"}},[t("v-spacer"),t("p",[t("router-link",{attrs:{to:"/sign-up"}},[e._v("¿Has olvidado tu contraseña?")])],1),t("v-spacer")],1),t("div",{attrs:{align:"center"}},[t("v-spacer"),t("p",[e._v("¿Todavía no tienes una cuenta? "),t("router-link",{attrs:{to:"/sign-up"}},[e._v("¡Regístrate ahora!")])],1),t("v-spacer")],1),t("v-snackbar",{attrs:{timeout:4e3},model:{value:e.snackbar,callback:function(a){e.snackbar=a},expression:"snackbar"}},[e._v("\n                "+e._s(e.snackbarText)+"\n                "),t("v-btn",{attrs:{color:"blue",text:""},on:{click:function(a){e.snackbar=!1}}},[e._v("\n                    Cerrar\n                ")])],1)],1)])},E=[],I=(t("a481"),{name:"login",data:function(){return{validForm:!1,email:"",password:"",showPassword:!1,buttonIsDisabled:!0,snackbar:!1,snackbarText:"",rules:{required:function(e){return!!e||"Este campo es obligatorio"}}}},methods:{login:function(){var e=this;b["auth"]().signInWithEmailAndPassword(this.email,this.password).then((function(a){b["auth"]().setPersistence(b["auth"].Auth.Persistence.LOCAL).then((function(){a.user.emailVerified?e.$router.replace("home"):e.$router.replace("email-verification")})).catch((function(a){console.warn(a),e.snackbarText="Parece que ha habido un problema de conexión. Por favor, vuelve a intentarlo más tarde.",e.snackbar=!0}))})).catch((function(a){console.warn(a),e.snackbarText="E-mail y/o contraseña incorrectos.",e.snackbar=!0}))}},watch:{validForm:function(e){this.buttonIsDisabled=!e}}}),F=I,q=t("4bd4"),A=t("2db4"),O=t("8654"),j=Object(c["a"])(F,D,E,!1,null,"01df889b",null),T=j.exports;u()(j,{VBtn:S["a"],VContainer:V["a"],VForm:q["a"],VSnackbar:A["a"],VSpacer:p["a"],VTextField:O["a"]});var U=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-container",{staticClass:"sign-up"},[t("h2",[e._v("Crea tu cuenta")]),t("v-form",{model:{value:e.validForm,callback:function(a){e.validForm=a},expression:"validForm"}},[t("v-text-field",{attrs:{rules:[e.rules.required,e.rules.min4Char,e.rules.validUsername],label:"Nombre de usuario",counter:"",required:""},model:{value:e.username,callback:function(a){e.username=a},expression:"username"}}),t("v-text-field",{attrs:{rules:[e.rules.required,e.rules.email],label:"E-mail",required:""},model:{value:e.email,callback:function(a){e.email=a},expression:"email"}}),t("v-text-field",{attrs:{rules:[e.rules.required,e.rules.min8Char,e.rules.samePassword],"append-icon":e.showPassword?"mdi-eye":"mdi-eye-off",type:e.showPassword?"text":"password",label:"Contraseña",hint:"Mínimo 8 caracteres",counter:"",required:""},on:{"click:append":function(a){e.showPassword=!e.showPassword}},model:{value:e.password,callback:function(a){e.password=a},expression:"password"}}),t("v-text-field",{attrs:{rules:[e.rules.required,e.rules.min8Char,e.rules.samePassword],"append-icon":e.showPassword?"mdi-eye":"mdi-eye-off",type:e.showPassword?"text":"password",label:"Repite la contraseña",hint:"Mínimo 8 caracteres",counter:"",required:""},on:{"click:append":function(a){e.showPassword=!e.showPassword}},model:{value:e.password2,callback:function(a){e.password2=a},expression:"password2"}})],1),t("br"),t("div",{attrs:{align:"center"}},[t("v-spacer"),t("v-btn",{attrs:{color:"primary",disabled:e.buttonIsDisabled},on:{click:e.signUp}},[e._v("Registrar")]),t("v-spacer")],1),t("br"),t("div",{attrs:{align:"center"}},[t("v-spacer"),t("p",[e._v("¿Ya tienes una cuenta? "),t("router-link",{attrs:{to:"/login"}},[e._v("¡Accede ahora!")])],1),t("v-spacer")],1),t("v-snackbar",{attrs:{timeout:4e3},model:{value:e.snackbar,callback:function(a){e.snackbar=a},expression:"snackbar"}},[e._v("\n        "+e._s(e.snackbarText)+"\n        "),t("v-btn",{attrs:{color:"blue",text:""},on:{click:function(a){e.snackbar=!1}}},[e._v("\n            Cerrar\n        ")])],1)],1)},$=[],L=(t("ac6a"),t("5df3"),t("768b")),M=(t("96cf"),t("3b8d")),N={name:"signUp",data:function(){var e=this;return{validForm:!1,username:"",email:"",password:"",password2:"",showPassword:!1,buttonIsDisabled:!0,snackbar:!1,snackbarText:"",rules:{required:function(e){return!!e||"Este campo es obligatorio"},min4Char:function(e){return e.length>=4||"Mínimo 4 caracteres"},min8Char:function(e){return e.length>=8||"Mínimo 8 caracteres"},email:function(e){var a=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return a.test(e)||"E-mail no válido"},validUsername:function(e){var a=/[a-zA-Z_]+[a-zA-Z0-9_]*/,t=/^_/,n=/_[_]+/;return a.test(e)&&!t.test(e)&&!n.test(e)||"Nombre de usuario no válido"},samePassword:function(a){return 0==a.localeCompare(e.password)||"Las contraseñas no coinciden"}}}},methods:{signUp:function(){var e=Object(M["a"])(regeneratorRuntime.mark((function e(){var a,t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=b["firestore"](),e.next=3,this.isUsernameInUse();case 3:if(!e.sent){e.next=8;break}return console.log("entro"),this.snackbarText="Ya existe un usuario con ese nombre",this.snackbar=!0,e.abrupt("return");case 8:b["auth"]().createUserWithEmailAndPassword(this.email,this.password).then((function(){b["auth"]().setPersistence(b["auth"].Auth.Persistence.LOCAL).then((function(){a.collection("users").doc(b["auth"]().currentUser.uid).set({username:t.username}).then((function(){console.log("Username successfully written in users"),t.$router.replace("email-verification")})).catch((function(e){console.error("Error writing username in users: ",e),this.snackbarText="Parece que ha habido un problema de conexión. Por favor, vuelve a intentarlo más tarde.",this.snackbar=!0}))})).catch((function(e){console.error(e),t.snackbarText="Parece que ha habido un problema de conexión. Por favor, vuelve a intentarlo más tarde.",t.snackbar=!0}))})).catch((function(e){console.error(e),"auth/email-already-in-use"==e.code?t.snackbarText="Ya existe una cuenta registrada con ese E-mail":t.snackbarText="Parece que ha habido un problema de conexión. Por favor, vuelve a intentarlo más tarde.",t.snackbar=!0}));case 9:case"end":return e.stop()}}),e,this)})));function a(){return e.apply(this,arguments)}return a}(),isUsernameInUse:function(){var e=Object(M["a"])(regeneratorRuntime.mark((function e(){var a,t,n,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=b["firestore"](),t=!1,e.next=4,Promise.all([a.collection("users").where("username","==",this.username).get()]);case 4:return n=e.sent,r=Object(L["a"])(n,1),i=r[0],i.size>0&&(t=!0),e.abrupt("return",t);case 9:case"end":return e.stop()}}),e,this)})));function a(){return e.apply(this,arguments)}return a}()},watch:{validForm:function(e){this.buttonIsDisabled=!e}}},R=N,B=Object(c["a"])(R,U,$,!1,null,"fd5ac35c",null),z=B.exports;u()(B,{VBtn:S["a"],VContainer:V["a"],VForm:q["a"],VSnackbar:A["a"],VSpacer:p["a"],VTextField:O["a"]});var Y=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-container",{staticClass:"email-verification"},[t("h2",[e._v("Verifica tu E-mail")]),t("p",{staticStyle:{"text-align":"justify"}},[e._v("\n        Para poder continuar, completa el proceso de verificación a través del enlace que hemos enviado a tu E-mail.\n    ")]),t("br"),t("div",{attrs:{align:"center"}},[t("v-progress-circular",{attrs:{size:50,color:"primary",indeterminate:""}})],1),t("v-snackbar",{attrs:{timeout:4e3},model:{value:e.snackbar,callback:function(a){e.snackbar=a},expression:"snackbar"}},[e._v("\n        "+e._s(e.snackbarText)+"\n        "),t("v-btn",{attrs:{color:"blue",text:""},on:{click:function(a){e.snackbar=!1}}},[e._v("\n            Cerrar\n        ")])],1),t("br"),t("br")],1)},W=[],H={name:"emailVerification",data:function(){return{sendEmailButtonIsDisabled:!0,snackbar:!1,snackbarText:"",isEmailVerified:!1,intervalCheckEmailVerified:null,user:null}},methods:{sendEmailVerification:function(){this.user.sendEmailVerification().then((function(){console.log("verification sent: ")}),(function(e){console.log("verification not sent: "+e.message)}))},checkEmailVerified:function(){var e=this;console.log("running"),this.user.reload().then((function(){b["auth"]().currentUser.emailVerified&&(console.log("Email is verified"),clearInterval(e.intervalCheckEmailVerified),e.$router.replace("fill-your-profile-info"))}))}},beforeMount:function(){this.user=b["auth"]().currentUser,console.log(this.user.emailVerified),this.user.emailVerified||this.sendEmailVerification(),this.intervalCheckEmailVerified=setInterval(this.checkEmailVerified,1e3)}},Z=H,J=t("490a"),Q=Object(c["a"])(Z,Y,W,!1,null,"19478424",null),G=Q.exports;u()(Q,{VBtn:S["a"],VContainer:V["a"],VProgressCircular:J["a"],VSnackbar:A["a"]});var K=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-container",{staticClass:"fill-your-profile-info"},[t("h2",[e._v("Rellena tu perfil")]),t("v-form",{model:{value:e.validForm,callback:function(a){e.validForm=a},expression:"validForm"}},[t("v-text-field",{attrs:{rules:[e.rules.required],label:"Nombre",required:""},model:{value:e.name,callback:function(a){e.name=a},expression:"name"}}),t("v-text-field",{attrs:{rules:[e.rules.required],label:"Apellidos",required:""},model:{value:e.lastName,callback:function(a){e.lastName=a},expression:"lastName"}}),t("v-dialog",{ref:"dialog",attrs:{"return-value":e.birthDate,persistent:""},on:{"update:returnValue":function(a){e.birthDate=a},"update:return-value":function(a){e.birthDate=a}},scopedSlots:e._u([{key:"activator",fn:function(a){var n=a.on;return[t("v-text-field",e._g({attrs:{label:"Fecha de nacimiento",hint:"AAAA-MM-DD","append-icon":"mdi-calendar",rules:[e.rules.required,e.rules.minAge],readonly:"",required:""},model:{value:e.birthDate,callback:function(a){e.birthDate=a},expression:"birthDate"}},n))]}}]),model:{value:e.modal,callback:function(a){e.modal=a},expression:"modal"}},[t("v-date-picker",{attrs:{scrollable:"",width:"97%",locale:"es"},model:{value:e.birthDate,callback:function(a){e.birthDate=a},expression:"birthDate"}},[t("v-spacer"),t("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(a){e.modal=!1}}},[e._v("Cancel")]),t("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(a){return e.$refs.dialog.save(e.birthDate)}}},[e._v("OK")])],1)],1),t("v-textarea",{attrs:{outlined:"",rules:[e.rules.required,e.rules.min20Char],label:"Cuéntanos un poco sobre ti",required:"",counter:"",maxlength:"140"},model:{value:e.description,callback:function(a){e.description=a},expression:"description"}})],1),t("br"),t("div",{attrs:{align:"center"}},[t("v-spacer"),t("v-btn",{attrs:{color:"primary",disabled:e.buttonIsDisabled},on:{click:e.setProfileInfo}},[e._v("Continuar")]),t("v-spacer")],1),t("br"),t("v-snackbar",{attrs:{timeout:4e3},model:{value:e.snackbar,callback:function(a){e.snackbar=a},expression:"snackbar"}},[e._v("\n        "+e._s(e.snackbarText)+"\n        "),t("v-btn",{attrs:{color:"blue",text:""},on:{click:function(a){e.snackbar=!1}}},[e._v("\n            Cerrar\n        ")])],1)],1)},X=[],ee=(t("7f7f"),{name:"fillYourProfileInfo",data:function(){var e=this;return{buttonIsDisabled:!0,snackbar:!1,snackbarText:"",name:"",lastName:"",birthDate:null,menu:!1,modal:!1,description:"",validForm:!1,rules:{required:function(e){return!!e||"Este campo es obligatorio"},min20Char:function(e){return e.length>=20||"Mínimo 20 caracteres"},minAge:function(e){var a,t=new Date(e),n=new Date;return a=!(n.getFullYear()-t.getFullYear()<16)&&(n.getFullYear()-t.getFullYear()!=16||!(n.getMonth()<t.getMonth())&&(n.getMonth()!=t.getMonth()||!(n.getDate()<t.getMonth()))),a||"Debes tener al menos 16 años para poder registrarte"},samePassword:function(a){return 0==a.localeCompare(e.password)||"Las contraseñas no coinciden"}}}},methods:{setProfileInfo:function(){var e=this,a=b["firestore"]();console.log(b["auth"]().currentUser.uid),a.collection("users").doc(b["auth"]().currentUser.uid).set({name:this.name,lastName:this.lastName,birthDate:this.birthDate,description:this.description},{merge:!0}).then((function(){console.log("Profile info successfully written in users"),e.$router.replace("fill-your-languages")})).catch((function(e){console.error("Error writing profile info in users: ",e),this.snackbarText="Parece que ha habido un problema de conexión. Por favor, vuelve a intentarlo más tarde.",this.snackbar=!0}))}},watch:{validForm:function(e){this.buttonIsDisabled=!e}}}),ae=ee,te=t("2e4b"),ne=t("169a"),re=t("a844"),ie=Object(c["a"])(ae,K,X,!1,null,"50e704a1",null),se=ie.exports;u()(ie,{VBtn:S["a"],VContainer:V["a"],VDatePicker:te["a"],VDialog:ne["a"],VForm:q["a"],VSnackbar:A["a"],VSpacer:p["a"],VTextField:O["a"],VTextarea:re["a"]});var oe=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-container",{staticClass:"fill-your-languages"},[t("h2",[e._v("Tus idiomas")]),t("div",{staticClass:"languages_container"},[t("h4",[e._v("Idiomas maternos")]),t("v-combobox",{attrs:{items:e.items_known_languages,chips:"",clearable:"",label:"¿Qué idiomas hablas con soltura?",multiple:"",solo:""},scopedSlots:e._u([{key:"selection",fn:function(a){var n=a.attrs,r=a.item,i=a.select,s=a.selected;return[t("v-chip",e._b({attrs:{"input-value":s,close:""},on:{click:i,"click:close":function(a){return e.remove_known_language(r)}}},"v-chip",n,!1),[t("img",{attrs:{left:"",src:"languages[2].icon"}}),t("strong",[e._v(e._s(r.text))]),e._v(" \n                    ")])]}}]),model:{value:e.chips_known_languages,callback:function(a){e.chips_known_languages=a},expression:"chips_known_languages"}})],1),t("div",{staticClass:"languages_container"},[t("h4",[e._v("Idiomas que quieres practicar")]),t("v-combobox",{attrs:{items:e.items_languages_to_learn,chips:"",clearable:"",label:"¿Qué idiomas buscas mejorar?",multiple:"",solo:""},scopedSlots:e._u([{key:"selection",fn:function(a){var n=a.attrs,r=a.item,i=a.select,s=a.selected;return[t("v-chip",e._b({attrs:{"input-value":s,close:""},on:{click:i,"click:close":function(a){return e.remove_language_to_learn(r)}}},"v-chip",n,!1),[t("strong",[e._v(e._s(r.text))]),e._v(" \n                ")])]}}]),model:{value:e.chips_languages_to_learn,callback:function(a){e.chips_languages_to_learn=a},expression:"chips_languages_to_learn"}})],1),t("div",{attrs:{align:"center"}},[t("v-spacer"),t("v-btn",{attrs:{color:"primary",disabled:e.buttonIsDisabled},on:{click:e.setLanguages}},[e._v("Continuar")]),t("v-spacer")],1),t("br"),t("v-snackbar",{attrs:{timeout:4e3},model:{value:e.snackbar,callback:function(a){e.snackbar=a},expression:"snackbar"}},[e._v("\n            "+e._s(e.snackbarText)+"\n            "),t("v-btn",{attrs:{color:"blue",text:""},on:{click:function(a){e.snackbar=!1}}},[e._v("\n                Cerrar\n            ")])],1)],1)},ce=[],le=(t("6762"),t("2fdb"),t("75fc")),ue=[{text:"Alemán",icon:"../assets/flags/de.svg"},{text:"Chino",icon:"../assets/flags/zh.svg"},{text:"Español",icon:"es.png"},{text:"Francés",icon:"../assets/flags/fr.svg"},{text:"Inglés",icon:"../assets/flags/en.svg"},{text:"Italiano",icon:"../assets/flags/it.svg"},{text:"Japonés",icon:"../assets/flags/ja.svg"},{text:"Portugués",icon:"../assets/flags/pt.svg"}],de={name:"FillYourLanguages",data:function(){return{buttonIsDisabled:!0,snackbar:!1,snackbarText:"",chips_known_languages:[],chips_languages_to_learn:[],items_known_languages:ue,items_languages_to_learn:ue}},methods:{remove_known_language:function(e){this.chips_known_languages.splice(this.chips_known_languages.indexOf(e),1),this.chips_known_languages=Object(le["a"])(this.chips_known_languages)},remove_language_to_learn:function(e){this.chips_languages_to_learn.splice(this.chips_languages_to_learn.indexOf(e),1),this.chips_languages_to_learn=Object(le["a"])(this.chips_languages_to_learn)},validLanguages:function(){this.chips_known_languages.length>0&&this.chips_languages_to_learn.length>0?this.buttonIsDisabled=!1:this.buttonIsDisabled=!0},filter_items_known_languages:function(){var e=this;this.items_known_languages=ue.filter((function(a,t,n){return!e.chips_languages_to_learn.includes(a)}))},filter_items_languages_to_learn:function(){var e=this;this.items_languages_to_learn=ue.filter((function(a,t,n){return!e.chips_known_languages.includes(a)}))},setLanguages:function(){var e=this,a=b["firestore"](),t=this;a.collection("users").doc(b["auth"]().currentUser.uid).set({known_languages:this.chips_known_languages,languages_to_learn:this.chips_languages_to_learn},{merge:!0}).then((function(){console.log("Languages info successfully written in users"),e.$router.replace("set-your-profile-image")})).catch((function(e){console.error("Error writing languages info in users: ",e),t.snackbarText="Parece que ha habido un problema de conexión. Por favor, vuelve a intentarlo más tarde.",t.snackbar=!0}))}},watch:{chips_known_languages:function(){this.validLanguages(),this.filter_items_languages_to_learn()},chips_languages_to_learn:function(){this.validLanguages(),this.filter_items_known_languages()}}},me=de,fe=(t("43ca"),t("cc20")),pe=t("2b5d"),he=Object(c["a"])(me,oe,ce,!1,null,"c753700e",null),ve=he.exports;u()(he,{VBtn:S["a"],VChip:fe["a"],VCombobox:pe["a"],VContainer:V["a"],VSnackbar:A["a"],VSpacer:p["a"]});var ge=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-container",[t("h2",[e._v("Elige tu foto de perfil")]),t("v-flex",{attrs:{xs12:"",lg6:"","offset-lg3":""}},[t("v-container",[t("v-layout",[t("v-flex",{attrs:{xs4:"","offset-xs4":""}},[t("vuetify-lazy-image",{attrs:{src:e.imagePreview,"aspect-ratio":1}}),t("v-container",[t("v-btn",{attrs:{absolute:"",dark:"",fab:"",right:"",color:"success"},on:{click:function(a){return e.$refs.myFiles.click()}}},[t("v-icon",[e._v("mdi-camera")])],1)],1)],1)],1),t("input",{ref:"myFiles",attrs:{hidden:"",type:"file",accept:"image/*",capture:""},on:{change:e.previewFiles}})],1),t("v-snackbar",{attrs:{timeout:2500,top:!0},model:{value:e.snackbar,callback:function(a){e.snackbar=a},expression:"snackbar"}},[e._v("\n            "+e._s(e.textSnackbar)+"\n            "),t("v-btn",{attrs:{color:"pink",flat:""},on:{click:function(a){e.snackbar=!1}}},[e._v("\n                Close\n            ")])],1),e.formSending?t("loading"):e._e()],1)],1)},be=[],_e=t("4627"),ke="../assets/logo.png",we={name:"SetYourProfileImage",data:function(){return{formSending:!1,valid:!0,imagePreview:ke,imageUpload:ke.replace("data:image/jpeg;base64,","").replace("data:image/png;base64,",""),name:"",nameRules:[function(e){return!!e||"Se requiere un nombre."}],lastName:"",lastNameRules:[function(e){return!!e||"Se require un apellido."}],genre:"m",optionsGenre:[{value:"m",text:"Hombre"},{value:"h",text:"Mujer"}],birthday:(new Date).toISOString().substr(0,10),menu:!1,modal:!1,menu2:!1,diet:"Sin Dieta",optionsDiet:[{value:"Sin Dieta",text:"Sin Dieta"},{value:"Dieta hipercalórica",text:"Dieta hipercalórica"},{value:"Dieta hiperprotéica",text:"Dieta hiperprotéica"},{value:"Otra/Suplementos",text:"Otra/Suplementos"}],centerId:"",centers:[],snackbar:!1,textSnackbar:"Error"}},methods:{previewFiles:function(){var e=this;if(this.$refs.myFiles.files.length>0){if(!this.$refs.myFiles.files[0].type.includes("image/"))return void alert("Please select an image file");var a=this.$refs.myFiles.files[0],t={maxSizeMB:.5,maxWidthOrHeight:500,useWebWorker:!0};Object(_e["a"])(a,t).then((function(a){if("function"===typeof FileReader){var t=new FileReader;t.onload=function(a){e.imgSrc=a.target.result,e.imagePreview=e.imgSrc,e.imageUpload=e.imagePreview.replace("data:image/jpeg;base64,","").replace("data:image/png;base64,","")},t.readAsDataURL(a)}else alert("Sorry, FileReader API not supported")})).catch((function(e){console.log(e.message)}))}},goBack:function(){this.$router.push({name:"patientHome"})},create:function(){var e=this;this.formSending||(this.formSending=!0,this.$refs.form.validate(),n["a"].nextTick((function(){if(e.valid){var a=_.a.firestore();a.collection("patients").add({name:e.name,lastName:e.lastName,genre:e.genre,birthday:e.birthday,diet:e.diet,centerId:e.centerId,wheelChairName:"Sin silla",wheelChairWeight:0}).then((function(a){var t=_.a.storage().ref().child("userImages/"+a.id);t.putString(e.imageUpload,"base64").then((function(){console.log("Uploaded a base64 string!"),t.getDownloadURL().then((function(t){a.update({imageUrl:t}).then((function(){e.$router.push({name:"patientHome"}),e.formSending=!1})).catch((function(){e.snackbar=!0,e.textSnackbar="Error creando el centro",e.formSending=!1}))}))})).catch((function(){e.snackbar=!0,e.textSnackbar="Error subiendo la imagen",e.formSending=!1}))})).catch((function(){e.snackbar=!0,e.textSnackbar="Error creando el paciente",e.formSending=!1}))}else e.formSending=!1})))}}},xe=we,ye=t("0e8f"),Se=t("132d"),Ve=Object(c["a"])(xe,ge,be,!1,null,"4eddc480",null),Pe=Ve.exports;u()(Ve,{VBtn:S["a"],VContainer:V["a"],VFlex:ye["a"],VIcon:Se["a"],VLayout:f["a"],VSnackbar:A["a"]});var Ce=function(){var e=this,a=e.$createElement,n=e._self._c||a;return n("v-container",{staticClass:"email-change-sent-confirmation",staticStyle:{height:"100%",position:"relative",width:"100%"},attrs:{align:"center"}},[n("div",{staticStyle:{width:"100%"},attrs:{align:"center"}},[n("img",{attrs:{src:t("cf05")}})]),n("p",{attrs:{id:"email_sent_text"}},[e._v("\n    Hemos envíado un E-mail a tu dirección de correo para cambiar la contraseña\n")]),n("div",{staticClass:"bottom-centered-buttons",attrs:{align:"center"}},[n("div",{staticStyle:{width:"100%"},attrs:{align:"center"}},[n("router-link",{attrs:{to:"/sign-up"}},[n("v-btn",{staticStyle:{width:"100%"},attrs:{color:"primary"}},[e._v("Entendido")])],1)],1)])])},De=[],Ee={name:"EmailChangeSentConfirmation"},Ie=Ee,Fe=(t("025c"),Object(c["a"])(Ie,Ce,De,!1,null,"3aaf2074",null)),qe=Fe.exports;u()(Fe,{VBtn:S["a"],VContainer:V["a"]}),n["a"].use(g["a"]);var Ae=new g["a"]({mode:"history",base:"/",routes:[{path:"*",redirect:"/home"},{path:"/",redirect:"/home"},{path:"/home",name:"home",component:C},{path:"/login",name:"login",component:T},{path:"/sign-up",name:"signUp",component:z},{path:"/email-verification",name:"emailVerification",component:G,meta:{requiresAuth:!0}},{path:"/fill-your-profile-info",name:"fillYourProfileInfo",component:se,meta:{requiresAuth:!0}},{path:"/fill-your-languages",name:"fillYourLanguages",component:ve,meta:{requiresAuth:!0}},{path:"/set-your-profile-image",name:"setYourProfileImage",component:Pe,meta:{requiresAuth:!0}},{path:"/email-change-sent-confirmation",name:"emailChangeSentConfirmation",component:qe,meta:{requiresAuth:!1}}]});Ae.beforeEach((function(e,a,t){var n=_.a.auth().currentUser,r=e.matched.some((function(e){return e.meta.requiresAuth}));r&&!n?t("home"):t()}));var Oe=Ae,je=t("2f62");n["a"].use(je["a"]);var Te=new je["a"].Store({state:{},mutations:{},actions:{}}),Ue=t("9483");Object(Ue["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var $e=t("f309");n["a"].use($e["a"]);var Le=new $e["a"]({icons:{iconfont:"mdi"}}),Me=t("070a");n["a"].use(Me["VuetifyLazyImagePlugin"]),n["a"].config.productionTip=!1,n["a"].use($e["a"]);var Ne="",Re={apiKey:"AIzaSyABGil2afckXxQ127FS8fW6y5phy1wzd6g",authDomain:"tfg-vue-m3m.firebaseapp.com",databaseURL:"https://tfg-vue-m3m.firebaseio.com",projectId:"tfg-vue-m3m",storageBucket:"tfg-vue-m3m.appspot.com",messagingSenderId:"144506012173",appId:"1:144506012173:web:8a58aa4b50d8b336184b44"};_.a.initializeApp(Re),_.a.auth().onAuthStateChanged((function(){Ne||(Ne=new n["a"]({router:Oe,store:Te,vuetify:Le,render:function(e){return e(v)}}).$mount("#app"))}))},"7bbe":function(e,a,t){"use strict";var n=t("c099"),r=t.n(n);r.a},"8d8b":function(e,a,t){},c099:function(e,a,t){},cf05:function(e,a,t){e.exports=t.p+"img/logo.82b9c7a5.png"},deb7:function(e,a,t){}});
//# sourceMappingURL=app.e3110ed0.js.map