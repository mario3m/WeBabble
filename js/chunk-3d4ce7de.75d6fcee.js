(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3d4ce7de"],{3408:function(t,e,a){},8212:function(t,e,a){"use strict";a("8e6e"),a("ac6a"),a("456d");var s=a("ade3"),r=(a("c5f6"),a("3408"),a("a9ad")),n=a("24b2"),i=a("80d2"),c=a("58df");function o(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function l(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?o(Object(a),!0).forEach((function(e){Object(s["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}e["a"]=Object(c["a"])(r["a"],n["a"]).extend({name:"v-avatar",props:{left:Boolean,right:Boolean,size:{type:[Number,String],default:48},tile:Boolean},computed:{classes:function(){return{"v-avatar--left":this.left,"v-avatar--right":this.right,"v-avatar--tile":this.tile}},styles:function(){return l({height:Object(i["f"])(this.size),minWidth:Object(i["f"])(this.size),width:Object(i["f"])(this.size)},this.measurableStyles)}},render:function(t){var e={staticClass:"v-avatar",class:this.classes,style:this.styles,on:this.$listeners};return t("div",this.setBackgroundColor(this.color,e),this.$slots.default)}})},def8:function(t,e,a){"use strict";var s=a("f1cc"),r=a.n(s);r.a},f1cc:function(t,e,a){},f935:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.chatID?a("v-container",{staticClass:"chat-screen",staticStyle:{"min-width":"305px !important"}},[a("v-app-bar",{staticClass:"app-bar-gradient-back",attrs:{fixed:"",app:"",color:"#FFFFFF",elevation:"3",dark:""}},[a("v-row",[a("v-col",{staticClass:"text-left pa-0"},[a("v-btn",{attrs:{text:"",icon:"",dark:"",tile:"",height:"100%",width:"40px"},on:{click:function(e){return t.$router.go(-1)}}},[a("v-icon",[t._v("mdi-arrow-left")])],1)],1),a("v-col",{staticClass:"text-center"},[a("v-btn",{attrs:{tile:"",text:"",dark:"",height:"100%",width:"100%"},on:{click:function(e){return t.$router.push({path:"/dashboard/chats/user/"+t.userID})}}},[t.userProfileImage?a("v-avatar",{staticStyle:{height:"45px",width:"45px !important"}},[a("img",{staticStyle:{"object-position":"center","object-fit":"cover",border:"2px solid #ffffff"},attrs:{src:t.userProfileImage,alt:"Avatar","aspect-ratio":1}})]):t._e(),t._v(" "),a("v-toolbar-title",{staticStyle:{"font-size":"14px"}},[t._v(t._s(t.username))])],1)],1),a("v-col",{staticClass:"text-right",staticStyle:{"padding-top":"0","padding-bottom":"0"}})],1)],1),a("div",{staticClass:"conversation",staticStyle:{position:"fixed"}},[a("div",{directives:[{name:"chat-scroll",rawName:"v-chat-scroll"}],staticClass:"conversation-container"},t._l(t.chatMessages,(function(e){return a("div",{key:e.id,class:{"message sent":t.myUID==e.sender,"message received":t.myUID!=e.sender}},[t._v(" "+t._s(e.text)+" "),a("span",{staticClass:"metadata"},[a("span",{staticClass:"time"}),a("span",{staticClass:"tick"},[t.myUID==e.sender?a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"15",id:"msg-dblcheck-ack",x:"2063",y:"2076"}},[a("path",{attrs:{d:"M15.01 3.316l-.478-.372a.365.365 0 0 0-.51.063L8.666 9.88a.32.32 0 0 1-.484.032l-.358-.325a.32.32 0 0 0-.484.032l-.378.48a.418.418 0 0 0 .036.54l1.32 1.267a.32.32 0 0 0 .484-.034l6.272-8.048a.366.366 0 0 0-.064-.512zm-4.1 0l-.478-.372a.365.365 0 0 0-.51.063L4.566 9.88a.32.32 0 0 1-.484.032L1.892 7.77a.366.366 0 0 0-.516.005l-.423.433a.364.364 0 0 0 .006.514l3.255 3.185a.32.32 0 0 0 .484-.033l6.272-8.048a.365.365 0 0 0-.063-.51z",fill:[!0===e.read?"#006400":"#a9a9a9"]}})]):t._e()])])])})),0),a("v-row",{staticStyle:{position:"fixed",bottom:"50px",right:"0px",width:"100%","padding-right":"24px"}},[a("v-col",{staticStyle:{padding:"0px","padding-right":"10px!important"}},[a("v-text-field",{attrs:{solo:"",dense:"",rounded:""},model:{value:t.textMessageContent,callback:function(e){t.textMessageContent=e},expression:"textMessageContent"}})],1),a("v-col",{staticStyle:{padding:"0px"},attrs:{cols:"auto"}},[a("v-container",{staticClass:"pa-0 ma-0",staticStyle:{background:"white"}},[a("v-btn",{staticStyle:{height:"38px"},attrs:{small:"",elevation:"3",color:"primary",disabled:!t.textMessageContent||t.sendButtonDisabled},on:{click:t.sendMessage}},[a("v-icon",[t._v("mdi-send")])],1)],1)],1)],1)],1),a("v-snackbar",{staticStyle:{bottom:"76px"},attrs:{timeout:4e3},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.snackbarText)+" "),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v(" "+t._s(t.closeText)+" ")])],1)],1):t._e()},r=[],n=(a("8e6e"),a("ac6a"),a("456d"),a("ade3")),i=a("2f62");function c(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function o(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?c(Object(a),!0).forEach((function(e){Object(n["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var l={name:"ChatWithUser",data:function(){return{userProfileImage:null,textMessageContent:"",username:null,myUID:this.$store.getters["user/getID"],snackbar:!1,snackbarText:"",myActiveChat:null,closeText:null,chatID:null,userID:null,sendButtonDisabled:!1}},methods:o(o({},Object(i["b"])("chats",["setChatMessagesToReadByChatID","sendNewChatMessage"])),{},{setMessagesToRead:function(){this.setChatMessagesToReadByChatID(this.chatID)},sendMessage:function(){var t=this;t.sendButtonDisabled=!0;var e=t.sendNewChatMessage({chatID:t.chatID,messageText:t.textMessageContent});e.then((function(){t.textMessageContent="",t.sendButtonDisabled=!1})).catch((function(e){t.snackbarText=e,t.snackbar=!0,t.sendButtonDisabled=!1}))},prepareChatData:function(t){var e=this,a=e.getUserByChatID(t);this.userProfileImage=a.profileImg,this.username=a.username,this.userID=a.id,this.setMessagesToRead()}}),created:function(){this.closeText=this.$i18n.t("messages.TEXT_CLOSE")},mounted:function(){var t=this;t.chatID=this.$route.params.id,t.prepareChatData(t.chatID)},computed:o(o(o({},Object(i["e"])("chats",["chats"])),Object(i["c"])("chats",["getChatByID","getUserByChatID","getChatMessagesByChatID"])),{},{chatMessages:function(){var t=this;return this.setMessagesToRead(),t.getChatMessagesByChatID(t.chatID)}}),destroyed:function(){}},d=l,h=(a("def8"),a("2877")),u=a("6544"),p=a.n(u),f=a("40dc"),b=a("8212"),g=a("8336"),v=a("62ad"),m=a("a523"),y=a("132d"),x=a("0fd9"),O=a("2db4"),C=a("8654"),D=a("2a7f"),w=Object(h["a"])(d,s,r,!1,null,"650f3fac",null);e["default"]=w.exports;p()(w,{VAppBar:f["a"],VAvatar:b["a"],VBtn:g["a"],VCol:v["a"],VContainer:m["a"],VIcon:y["a"],VRow:x["a"],VSnackbar:O["a"],VTextField:C["a"],VToolbarTitle:D["a"]})}}]);
//# sourceMappingURL=chunk-3d4ce7de.75d6fcee.js.map